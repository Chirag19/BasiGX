<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>The source code</title>
  <link href="../resources/prettify/prettify.css" type="text/css" rel="stylesheet" />
  <script type="text/javascript" src="../resources/prettify/prettify.js"></script>
  <style type="text/css">
    .highlight { display: block; background-color: #ddd; }
  </style>
  <script type="text/javascript">
    function highlight() {
      document.getElementById(location.hash.replace(/#/, "")).className = "highlight";
    }
  </script>
</head>
<body onload="prettyPrint(); highlight();">
  <pre class="prettyprint lang-js">
var __cov_W529EYzbG5qMLaVzvXP_Ng = (Function(&#39;return this&#39;))();
if (!__cov_W529EYzbG5qMLaVzvXP_Ng.__coverage__) { __cov_W529EYzbG5qMLaVzvXP_Ng.__coverage__ = {}; }
__cov_W529EYzbG5qMLaVzvXP_Ng = __cov_W529EYzbG5qMLaVzvXP_Ng.__coverage__;
if (!(__cov_W529EYzbG5qMLaVzvXP_Ng[&#39;/home/travis/build/terrestris/BasiGX/src/view/panel/FontSymbolPool.js&#39;])) {
   __cov_W529EYzbG5qMLaVzvXP_Ng[&#39;/home/travis/build/terrestris/BasiGX/src/view/panel/FontSymbolPool.js&#39;] = {&quot;path&quot;:&quot;/home/travis/build/terrestris/BasiGX/src/view/panel/FontSymbolPool.js&quot;,&quot;s&quot;:{&quot;1&quot;:0,&quot;2&quot;:0,&quot;3&quot;:0,&quot;4&quot;:0,&quot;5&quot;:0,&quot;6&quot;:0,&quot;7&quot;:0,&quot;8&quot;:0,&quot;9&quot;:0,&quot;10&quot;:0,&quot;11&quot;:0,&quot;12&quot;:0,&quot;13&quot;:0,&quot;14&quot;:0,&quot;15&quot;:0,&quot;16&quot;:0,&quot;17&quot;:0,&quot;18&quot;:0,&quot;19&quot;:0,&quot;20&quot;:0,&quot;21&quot;:0,&quot;22&quot;:0,&quot;23&quot;:0,&quot;24&quot;:0,&quot;25&quot;:0,&quot;26&quot;:0,&quot;27&quot;:0,&quot;28&quot;:0,&quot;29&quot;:0},&quot;b&quot;:{&quot;1&quot;:[0,0],&quot;2&quot;:[0,0]},&quot;f&quot;:{&quot;1&quot;:0,&quot;2&quot;:0,&quot;3&quot;:0,&quot;4&quot;:0,&quot;5&quot;:0,&quot;6&quot;:0,&quot;7&quot;:0,&quot;8&quot;:0},&quot;fnMap&quot;:{&quot;1&quot;:{&quot;name&quot;:&quot;(anonymous_1)&quot;,&quot;line&quot;:122,&quot;loc&quot;:{&quot;start&quot;:{&quot;line&quot;:122,&quot;column&quot;:19},&quot;end&quot;:{&quot;line&quot;:122,&quot;column&quot;:30}}},&quot;2&quot;:{&quot;name&quot;:&quot;(anonymous_2)&quot;,&quot;line&quot;:178,&quot;loc&quot;:{&quot;start&quot;:{&quot;line&quot;:178,&quot;column&quot;:18},&quot;end&quot;:{&quot;line&quot;:178,&quot;column&quot;:44}}},&quot;3&quot;:{&quot;name&quot;:&quot;(anonymous_3)&quot;,&quot;line&quot;:194,&quot;loc&quot;:{&quot;start&quot;:{&quot;line&quot;:194,&quot;column&quot;:25},&quot;end&quot;:{&quot;line&quot;:194,&quot;column&quot;:44}}},&quot;4&quot;:{&quot;name&quot;:&quot;(anonymous_4)&quot;,&quot;line&quot;:203,&quot;loc&quot;:{&quot;start&quot;:{&quot;line&quot;:203,&quot;column&quot;:25},&quot;end&quot;:{&quot;line&quot;:203,&quot;column&quot;:36}}},&quot;5&quot;:{&quot;name&quot;:&quot;(anonymous_5)&quot;,&quot;line&quot;:215,&quot;loc&quot;:{&quot;start&quot;:{&quot;line&quot;:215,&quot;column&quot;:19},&quot;end&quot;:{&quot;line&quot;:215,&quot;column&quot;:30}}},&quot;6&quot;:{&quot;name&quot;:&quot;(anonymous_6)&quot;,&quot;line&quot;:219,&quot;loc&quot;:{&quot;start&quot;:{&quot;line&quot;:219,&quot;column&quot;:25},&quot;end&quot;:{&quot;line&quot;:219,&quot;column&quot;:41}}},&quot;7&quot;:{&quot;name&quot;:&quot;(anonymous_7)&quot;,&quot;line&quot;:226,&quot;loc&quot;:{&quot;start&quot;:{&quot;line&quot;:226,&quot;column&quot;:39},&quot;end&quot;:{&quot;line&quot;:226,&quot;column&quot;:72}}},&quot;8&quot;:{&quot;name&quot;:&quot;(anonymous_8)&quot;,&quot;line&quot;:234,&quot;loc&quot;:{&quot;start&quot;:{&quot;line&quot;:234,&quot;column&quot;:24},&quot;end&quot;:{&quot;line&quot;:234,&quot;column&quot;:35}}}},&quot;statementMap&quot;:{&quot;1&quot;:{&quot;start&quot;:{&quot;line&quot;:25,&quot;column&quot;:0},&quot;end&quot;:{&quot;line&quot;:240,&quot;column&quot;:3}},&quot;2&quot;:{&quot;start&quot;:{&quot;line&quot;:123,&quot;column&quot;:8},&quot;end&quot;:{&quot;line&quot;:123,&quot;column&quot;:22}},&quot;3&quot;:{&quot;start&quot;:{&quot;line&quot;:126,&quot;column&quot;:8},&quot;end&quot;:{&quot;line&quot;:139,&quot;column&quot;:11}},&quot;4&quot;:{&quot;start&quot;:{&quot;line&quot;:140,&quot;column&quot;:8},&quot;end&quot;:{&quot;line&quot;:140,&quot;column&quot;:21}},&quot;5&quot;:{&quot;start&quot;:{&quot;line&quot;:142,&quot;column&quot;:8},&quot;end&quot;:{&quot;line&quot;:154,&quot;column&quot;:11}},&quot;6&quot;:{&quot;start&quot;:{&quot;line&quot;:156,&quot;column&quot;:8},&quot;end&quot;:{&quot;line&quot;:166,&quot;column&quot;:10}},&quot;7&quot;:{&quot;start&quot;:{&quot;line&quot;:168,&quot;column&quot;:8},&quot;end&quot;:{&quot;line&quot;:168,&quot;column&quot;:24}},&quot;8&quot;:{&quot;start&quot;:{&quot;line&quot;:179,&quot;column&quot;:8},&quot;end&quot;:{&quot;line&quot;:179,&quot;column&quot;:64}},&quot;9&quot;:{&quot;start&quot;:{&quot;line&quot;:180,&quot;column&quot;:8},&quot;end&quot;:{&quot;line&quot;:180,&quot;column&quot;:55}},&quot;10&quot;:{&quot;start&quot;:{&quot;line&quot;:181,&quot;column&quot;:8},&quot;end&quot;:{&quot;line&quot;:181,&quot;column&quot;:57}},&quot;11&quot;:{&quot;start&quot;:{&quot;line&quot;:182,&quot;column&quot;:8},&quot;end&quot;:{&quot;line&quot;:182,&quot;column&quot;:49}},&quot;12&quot;:{&quot;start&quot;:{&quot;line&quot;:184,&quot;column&quot;:8},&quot;end&quot;:{&quot;line&quot;:207,&quot;column&quot;:9}},&quot;13&quot;:{&quot;start&quot;:{&quot;line&quot;:185,&quot;column&quot;:12},&quot;end&quot;:{&quot;line&quot;:206,&quot;column&quot;:15}},&quot;14&quot;:{&quot;start&quot;:{&quot;line&quot;:195,&quot;column&quot;:20},&quot;end&quot;:{&quot;line&quot;:198,&quot;column&quot;:22}},&quot;15&quot;:{&quot;start&quot;:{&quot;line&quot;:199,&quot;column&quot;:20},&quot;end&quot;:{&quot;line&quot;:199,&quot;column&quot;:63}},&quot;16&quot;:{&quot;start&quot;:{&quot;line&quot;:200,&quot;column&quot;:20},&quot;end&quot;:{&quot;line&quot;:200,&quot;column&quot;:51}},&quot;17&quot;:{&quot;start&quot;:{&quot;line&quot;:201,&quot;column&quot;:20},&quot;end&quot;:{&quot;line&quot;:201,&quot;column&quot;:47}},&quot;18&quot;:{&quot;start&quot;:{&quot;line&quot;:204,&quot;column&quot;:20},&quot;end&quot;:{&quot;line&quot;:204,&quot;column&quot;:70}},&quot;19&quot;:{&quot;start&quot;:{&quot;line&quot;:216,&quot;column&quot;:8},&quot;end&quot;:{&quot;line&quot;:216,&quot;column&quot;:22}},&quot;20&quot;:{&quot;start&quot;:{&quot;line&quot;:218,&quot;column&quot;:8},&quot;end&quot;:{&quot;line&quot;:218,&quot;column&quot;:64}},&quot;21&quot;:{&quot;start&quot;:{&quot;line&quot;:219,&quot;column&quot;:8},&quot;end&quot;:{&quot;line&quot;:221,&quot;column&quot;:11}},&quot;22&quot;:{&quot;start&quot;:{&quot;line&quot;:220,&quot;column&quot;:12},&quot;end&quot;:{&quot;line&quot;:220,&quot;column&quot;:28}},&quot;23&quot;:{&quot;start&quot;:{&quot;line&quot;:222,&quot;column&quot;:8},&quot;end&quot;:{&quot;line&quot;:224,&quot;column&quot;:11}},&quot;24&quot;:{&quot;start&quot;:{&quot;line&quot;:225,&quot;column&quot;:8},&quot;end&quot;:{&quot;line&quot;:225,&quot;column&quot;:29}},&quot;25&quot;:{&quot;start&quot;:{&quot;line&quot;:226,&quot;column&quot;:8},&quot;end&quot;:{&quot;line&quot;:228,&quot;column&quot;:11}},&quot;26&quot;:{&quot;start&quot;:{&quot;line&quot;:227,&quot;column&quot;:12},&quot;end&quot;:{&quot;line&quot;:227,&quot;column&quot;:69}},&quot;27&quot;:{&quot;start&quot;:{&quot;line&quot;:235,&quot;column&quot;:8},&quot;end&quot;:{&quot;line&quot;:235,&quot;column&quot;:22}},&quot;28&quot;:{&quot;start&quot;:{&quot;line&quot;:236,&quot;column&quot;:8},&quot;end&quot;:{&quot;line&quot;:238,&quot;column&quot;:9}},&quot;29&quot;:{&quot;start&quot;:{&quot;line&quot;:237,&quot;column&quot;:12},&quot;end&quot;:{&quot;line&quot;:237,&quot;column&quot;:36}}},&quot;branchMap&quot;:{&quot;1&quot;:{&quot;line&quot;:184,&quot;type&quot;:&quot;if&quot;,&quot;locations&quot;:[{&quot;start&quot;:{&quot;line&quot;:184,&quot;column&quot;:8},&quot;end&quot;:{&quot;line&quot;:184,&quot;column&quot;:8}},{&quot;start&quot;:{&quot;line&quot;:184,&quot;column&quot;:8},&quot;end&quot;:{&quot;line&quot;:184,&quot;column&quot;:8}}]},&quot;2&quot;:{&quot;line&quot;:236,&quot;type&quot;:&quot;if&quot;,&quot;locations&quot;:[{&quot;start&quot;:{&quot;line&quot;:236,&quot;column&quot;:8},&quot;end&quot;:{&quot;line&quot;:236,&quot;column&quot;:8}},{&quot;start&quot;:{&quot;line&quot;:236,&quot;column&quot;:8},&quot;end&quot;:{&quot;line&quot;:236,&quot;column&quot;:8}}]}}};
}
__cov_W529EYzbG5qMLaVzvXP_Ng = __cov_W529EYzbG5qMLaVzvXP_Ng[&#39;/home/travis/build/terrestris/BasiGX/src/view/panel/FontSymbolPool.js&#39;];
__cov_W529EYzbG5qMLaVzvXP_Ng.s[&#39;1&#39;]++;Ext.define(&#39;BasiGX.view.panel.FontSymbolPool&#39;,{extend:&#39;Ext.panel.Panel&#39;,xtype:&#39;basigx-panel-fontsymbolpool&#39;,requires:[&#39;BasiGX.util.Url&#39;,&#39;BasiGX.util.CSRF&#39;,&#39;BasiGX.util.MsgBox&#39;,&#39;BasiGX.view.panel.TtfGlyphInspector&#39;],viewModel:{data:{closeBtnText:&#39;Close&#39;,fontSelectLabel:&#39;Select a font&#39;,documentation:&#39;&lt;h2&gt;Zeichensatz Sammlung&lt;/h2&gt;\u2022 In diesem Dialog &#39;+&#39;kann für die Darstellung von Objekten ein Zeichen einer &#39;+&#39;Schriftart gewählt werden.&lt;br&gt;\u2022 Wählen Sie zunächst eine &#39;+&#39;Schriftart aus.&lt;br&gt;\u2022 Anschließend können Sie aus der &#39;+&#39;Zeichentabelle ein Symbol auswählen, dass zur Darstellung &#39;+&#39;verwendet werden soll&#39;}},padding:5,width:535,height:600,layout:&#39;vbox&#39;,config:{geoserverFontListUrl:null,geoserverFontUrl:null,useCsrfToken:false,onGlyphSelected:null,useCloseButton:true,fontBlobUrl:null,selectedFontName:null},initComponent:function(){__cov_W529EYzbG5qMLaVzvXP_Ng.f[&#39;1&#39;]++;__cov_W529EYzbG5qMLaVzvXP_Ng.s[&#39;2&#39;]++;var me=this;__cov_W529EYzbG5qMLaVzvXP_Ng.s[&#39;3&#39;]++;var store=Ext.create(&#39;Ext.data.Store&#39;,{sorters:&#39;fontName&#39;,fields:[&#39;name&#39;],proxy:{type:&#39;ajax&#39;,url:me.getGeoserverFontListUrl(),reader:{type:&#39;json&#39;,rootProperty:&#39;ResourceDirectory.children.child&#39;}}});__cov_W529EYzbG5qMLaVzvXP_Ng.s[&#39;4&#39;]++;store.load();__cov_W529EYzbG5qMLaVzvXP_Ng.s[&#39;5&#39;]++;me.items=[{xtype:&#39;combo&#39;,width:400,store:store,bind:{fieldLabel:&#39;{fontSelectLabel}&#39;},displayField:&#39;name&#39;,queryMode:&#39;local&#39;,listeners:{change:me.fontSelected}}];__cov_W529EYzbG5qMLaVzvXP_Ng.s[&#39;6&#39;]++;me.bbar=[&#39;-&gt;&#39;,{bind:{text:&#39;{closeBtnText}&#39;},scope:me,handler:me.onCloseButtonClick,hidden:!me.getUseCloseButton()}];__cov_W529EYzbG5qMLaVzvXP_Ng.s[&#39;7&#39;]++;me.callParent();},fontSelected:function(combo,fontName){__cov_W529EYzbG5qMLaVzvXP_Ng.f[&#39;2&#39;]++;__cov_W529EYzbG5qMLaVzvXP_Ng.s[&#39;8&#39;]++;var symbolPool=this.up(&#39;basigx-panel-fontsymbolpool&#39;);__cov_W529EYzbG5qMLaVzvXP_Ng.s[&#39;9&#39;]++;var selectedRecord=combo.getSelectedRecord();__cov_W529EYzbG5qMLaVzvXP_Ng.s[&#39;10&#39;]++;var ttfHref=selectedRecord.getData().link.href;__cov_W529EYzbG5qMLaVzvXP_Ng.s[&#39;11&#39;]++;symbolPool.setSelectedFontName(fontName);__cov_W529EYzbG5qMLaVzvXP_Ng.s[&#39;12&#39;]++;if(ttfHref){__cov_W529EYzbG5qMLaVzvXP_Ng.b[&#39;1&#39;][0]++;__cov_W529EYzbG5qMLaVzvXP_Ng.s[&#39;13&#39;]++;Ext.Ajax.request({binary:true,url:symbolPool.getGeoserverFontUrl(),method:&#39;GET&#39;,params:{fontName:fontName},defaultHeaders:BasiGX.util.CSRF.getHeader(),scope:this,success:function(response){__cov_W529EYzbG5qMLaVzvXP_Ng.f[&#39;3&#39;]++;__cov_W529EYzbG5qMLaVzvXP_Ng.s[&#39;14&#39;]++;var blob=new Blob([response.responseBytes],{type:&#39;application/octet-stream&#39;});__cov_W529EYzbG5qMLaVzvXP_Ng.s[&#39;15&#39;]++;var url=window.URL.createObjectURL(blob);__cov_W529EYzbG5qMLaVzvXP_Ng.s[&#39;16&#39;]++;symbolPool.setFontBlobUrl(url);__cov_W529EYzbG5qMLaVzvXP_Ng.s[&#39;17&#39;]++;symbolPool.renderSymbols();},failure:function(){__cov_W529EYzbG5qMLaVzvXP_Ng.f[&#39;4&#39;]++;__cov_W529EYzbG5qMLaVzvXP_Ng.s[&#39;18&#39;]++;Ext.toast(&#39;Error retrieving the Graphic preview&#39;);}});}else{__cov_W529EYzbG5qMLaVzvXP_Ng.b[&#39;1&#39;][1]++;}},renderSymbols:function(){__cov_W529EYzbG5qMLaVzvXP_Ng.f[&#39;5&#39;]++;__cov_W529EYzbG5qMLaVzvXP_Ng.s[&#39;19&#39;]++;var me=this;__cov_W529EYzbG5qMLaVzvXP_Ng.s[&#39;20&#39;]++;var panels=me.query(&#39;basigx-panel-ttfglyphinspector&#39;);__cov_W529EYzbG5qMLaVzvXP_Ng.s[&#39;21&#39;]++;Ext.each(panels,function(panel){__cov_W529EYzbG5qMLaVzvXP_Ng.f[&#39;6&#39;]++;__cov_W529EYzbG5qMLaVzvXP_Ng.s[&#39;22&#39;]++;panel.destroy();});__cov_W529EYzbG5qMLaVzvXP_Ng.s[&#39;23&#39;]++;var glyphPanel=Ext.create(&#39;BasiGX.view.panel.TtfGlyphInspector&#39;,{fontSrc:this.getFontBlobUrl()});__cov_W529EYzbG5qMLaVzvXP_Ng.s[&#39;24&#39;]++;this.add(glyphPanel);__cov_W529EYzbG5qMLaVzvXP_Ng.s[&#39;25&#39;]++;glyphPanel.on(&#39;glyphSelected&#39;,function(fullQualifiedGlyphName){__cov_W529EYzbG5qMLaVzvXP_Ng.f[&#39;7&#39;]++;__cov_W529EYzbG5qMLaVzvXP_Ng.s[&#39;26&#39;]++;me.getOnGlyphSelected().call(me,fullQualifiedGlyphName);});},onCloseButtonClick:function(){__cov_W529EYzbG5qMLaVzvXP_Ng.f[&#39;8&#39;]++;__cov_W529EYzbG5qMLaVzvXP_Ng.s[&#39;27&#39;]++;var me=this;__cov_W529EYzbG5qMLaVzvXP_Ng.s[&#39;28&#39;]++;if(me.up(&#39;window&#39;)){__cov_W529EYzbG5qMLaVzvXP_Ng.b[&#39;2&#39;][0]++;__cov_W529EYzbG5qMLaVzvXP_Ng.s[&#39;29&#39;]++;me.up(&#39;window&#39;).close();}else{__cov_W529EYzbG5qMLaVzvXP_Ng.b[&#39;2&#39;][1]++;}}});
</pre>
</body>
</html>
